import LOCATION_NAME_CLIENT_NAME_energy_json;

import LOCATION_NAME_CLIENT_NAME_energy_total;
import LOCATION_NAME_CLIENT_NAME_energy_today;
import LOCATION_NAME_CLIENT_NAME_energy_yesterday;

import  LOCATION_NAME_CLIENT_NAME_energy_total_string;
import  LOCATION_NAME_CLIENT_NAME_energy_today_string;
import  LOCATION_NAME_CLIENT_NAME_energy_yersterday_string;

rule "LOCATION_NAME_CLIENT_NAME_energy_info"
when
	Time cron "0 01 22 1/1 * ? *" // 1 minute past  Midnight every day
 then

	sendTelegram("sebastianIphoneX", "LOCATION_NAME CLIENT_NAME Energy"
			+ "\n- Total: " + LOCATION_NAME_CLIENT_NAME_energy_total.state + " kW/h"
			+ "\n- Today: " + LOCATION_NAME_CLIENT_NAME_energy_today.state + " kW/h"
			+ "\n- Yesterday :" + LOCATION_NAME_CLIENT_NAME_energy_yesterday.state + " kW/h")
 end

rule "LOCATION_NAME_CLIENT_NAME_energy_string"
when
	Item LOCATION_NAME_CLIENT_NAME_json changed
then
	LOCATION_NAME_CLIENT_NAME_energy_total_string.postUpdate(LOCATION_NAME_CLIENT_NAME_energy_total.state + " kW/h")
	LOCATION_NAME_CLIENT_NAME_energy_today_string.postUpdate(LOCATION_NAME_CLIENT_NAME_energy_today.state + " kW/h")
	LOCATION_NAME_CLIENT_NAME_energy_yersterday_string.postUpdate(LOCATION_NAME_CLIENT_NAME_energy_yesterday.state + " kW/h")
 end